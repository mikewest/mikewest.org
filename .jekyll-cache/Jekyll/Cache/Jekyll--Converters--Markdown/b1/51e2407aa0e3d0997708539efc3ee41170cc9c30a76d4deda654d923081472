I"ò
<p>Iâ€™ve been spending a lot of time recently attempting to puzzle out a <em>good</em>
way of testing the work Iâ€™m been doing.  Iâ€™m enamoured with the idea of unit
tests, and I have the feeling that I could save myself a bit of misery if I
had a mechanism to build tests for each bug I close.  Itâ€™s a great dream, but
Iâ€™m not coming up with much in the way of a solid solution for my work.</p>

<p>Sketching out the broad outlines of what I want is pretty simple.  There are
two broad categories of things I want to test:</p>

<ol>
  <li>
    <p>Core functionality: If I click on an article from some listing page, I
should end up at <em>the same</em> articleâ€™s page.  I shouldnâ€™t ever see 404â€™s.  PHP
errors and warnings shouldnâ€™t exist on the site.</p>
  </li>
  <li>
    <p>Presentation tests: Each module in the sidebar should be X pixels wide in
all the A-Grade browsers.  Text shouldnâ€™t be cut off because of overflow
issues.  Thing X should be Y pixels away from thing Z.</p>
  </li>
</ol>

<p>Core functionality is easy, rather, I can come up with good ways of writing
those tests.  A spider is just a quick Perl script away, and the tests I want
to do are almost completely doable with regular expressions.  If a linkâ€™s text
matches the headline of the page to which it leads, wonderful!  If not, error!
With a few hardcoded exceptions to handle â€œMoreâ€ links and the like, Iâ€™ve got
a solid testing system.  Presentation, on the other hand, is hard.</p>

<p>Itâ€™s hard not because itâ€™s terribly complex, itâ€™s hard because itâ€™s
tremendously difficult for a computer to determine if a page <em>looks</em> right.
The only test mechanism Iâ€™ve come up with is a convoluted system of JavaScript
checks: grab an elementâ€™s <code class="highlighter-rouge">computedStyle</code> and run a series of checks.  That
covers a good chunk of presentational issues, but itâ€™s incredibly
timeconsuming to build out a testing system that way.  Moreover, it only
catches the subset of errors that are directly tied to the box model.  I donâ€™t
really know how to generically test to see if a particular link is floated
next to an image, or gets pushed under it, for example.  Sure, I can check X
and Y offsets and compare those to the imageâ€™s width and height, but those
sorts of interdependencies get very complex, very quickly.</p>

<p>So Iâ€™m still looking.  <a href="http://www.openqa.org/selenium/" title="Selenium">Selenium</a> looks like something I should play with,
even if the notion of writing tests using HTML <code class="highlighter-rouge">table</code> elements is somewhat
disheartening.  <a href="http://www.jsunit.net/" title="JSUnit">JSUnit</a> is likewise a potential source of testing goodness.
Any other good sources I should be taking a look at?</p>

:ET