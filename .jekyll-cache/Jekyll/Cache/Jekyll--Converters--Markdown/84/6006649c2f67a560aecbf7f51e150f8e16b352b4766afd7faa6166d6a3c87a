I"ëÛ<p>Last week, I was in ZÃ¼rich attending <a href="http://2013.frontendconf.ch/">Frontend Conference</a> (talks and
slides linked up <a href="http://lanyrd.com/2013/fec13/">on Lanyrd</a>), and had the opportunity to chat with
the folks there about client-side security. <a href="https://mkw.st/r/csp">Content Security Policy</a>,
shockingly, was central to the discussion.</p>

<p>In the interests of making the presentation as accessible (and indexable) as
possible, a full transcript of the presentation is below, along with an embed of
the video and slides.</p>

<h2 id="video">Video</h2>

<iframe width="606" height="455" src="https://www.youtube.com/embed/fYjO5pIY1mY?rel=0" frameborder="0" title="Video: 'Frontend Security' - Frontend Conf, ZÃ¼rich 2013" allowfullscreen="allowfullscreen"></iframe>

<p>The video is 48m long, fully captioned, and <a href="https://www.youtube.com/watch?v=fYjO5pIY1mY">up on YouTube for your viewing
enjoyment</a> (I swiped the <a href="http://www.ustream.tv/recorded/38005119">original conference feed from UStream</a>
(with permission, thanks!)).</p>

<h2 id="slides">Slides</h2>

<iframe src="https://speakerdeck.com/player/c67a4f30f3a5013025764a2e0c7b14d8" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" frameborder="0" title="Slides: 'Frontend Security' - Frontend Conf, ZÃ¼rich 2013" width="606" height="516"></iframe>

<p>The <a href="https://speakerdeck.com/mikewest/frontend-security-frontend-conf-zurich-2013-08-30">slides are up on Speaker Deck</a> (which is awesome), and I actually
used Speaker Deck to <em>present</em> the slides from someone elseâ€™s laptop since my
computer decided not to connect to the conferenceâ€™s projector. I love you,
Speaker Deck!</p>

<h2 id="transcript">Transcript</h2>

<p><strong>Â» MIKE WEST:</strong> Thank you very much.  Before I get started, Iâ€™d like to say thanks to
<a href="http://2013.frontendconf.ch/">Frontend Conf</a> because this is the first conference Iâ€™ve ever been at
where the â€“ where everything was online less than a day after the speeches.
In fact, speeches from this morning are already online.  I think itâ€™s absolutely
incredible.  Can you give the guys up there a round of applause?  Because
thatâ€™sâ€¦</p>

<p>[applause]</p>

<p>Blows me away.</p>

<p>So my name is Mike West.  I work at Google on Chrome.  I do some stuff in Blink.
I do some stuff in Chrome.  If you have any questions about that, Iâ€™m happy to
answer them. What Iâ€™ve been doing recently has had a lot to do with security.</p>

<p>Iâ€™m going to talk about a couple of things today that I find really important.
The slides are at <a href="https://speakerdeck.com/mikewest/frontend-security-frontend-conf-zurich-2013-08-30">this URL</a>, Iâ€™m actually using them right now
because my computer decided that it didnâ€™t want to hook up to the network.  So
you can follow along with me on SlideShare.  Sorry, on Speaker Deck.  I stopped
using SlideShare for good reasons, and I will tell you about them later.  Iâ€™m on
<a href="https://twitter.com/mikewest">Twitter</a>.  Iâ€™m on <a href="https://google.com/+MikeWest">Google+</a>.  You can find <a href="https://mikewest.org/">my website</a> that I
update maybe once to twice a year.  Itâ€™s very exciting, very good stuff indeed.</p>

<p>So my brain is absolutely full.  Iâ€™ve been to a lot of talks over the last two
days.  This is the last talk on the last day.  I think if I tried to stuff
anything else in my head, it would explode.  I suspect that many of you are
feeling the same way. So I want to give you the one thing that I want you to
remember right now, up front, before you forget everything that Iâ€™m going to
say.</p>

<p>This is <a href="https://mkw.st/r/csp">an article talking about Content Security Policy</a>.  What is
Content Security Policy?  Why should I care?  Iâ€™ll tell you in a minute.  But
donâ€™t worry about that right now.  Open the article, put it somewhere, find it
later.  Itâ€™s something that I really think you should read.  Itâ€™s something
thatâ€™s well worth your time and itâ€™s written by a very handsome man.  So I
think itâ€™s really something that would be worth your time to play around with.
Itâ€™s on HTML5Rocks, by the way. Does anyone know HTML5Rocks?  Does anyone not
know html5rocks.com?  Excellent. Thatâ€™s very good.  Theyâ€™re very smart people
on my team that write lots of good articles for the site.  I really think that
if you donâ€™t know about it and many if you do, itâ€™s well worth your time to take
a look at.</p>

<p>So how many of you have seen a page that looks like this, in either Chrome or
any other browser?  Thatâ€™s not enough of you.  You people are browsing really
boring websites.  You need to go into a â€“ just completely different corner
of the web.  Youâ€™re not going to see this from cnn.com, right?  Youâ€™ve got to
really look for it.  This is a malware alert brought to you by the magic of
<a href="https://developers.google.com/safe-browsing/">SafeBrowsing</a>.  SafeBrowsing is a service that Google has put together
thatâ€™s used by Chrome, used by Firefox, and a variety of other services.  It
gives us the ability to relatively rapidly show users that they could be doing
something dangerous, that we compare a list of hashes to the website that
theyâ€™re about to visit.  If thereâ€™s a match then we can inform the user that
they might not want to visit the site.  The site is something that weâ€™ve
identified as being persistently malicious.  That is every time users go to the
site, people try to load malware onto their computers or try to direct into
phishing sites, or things along these lines.  Itâ€™s persistent.  Meaning that
for every user, theyâ€™re seeing this sort of behavior.</p>

<p>And then weâ€™ve gotten really good at detecting these sorts of behaviors.  Weâ€™ve
gotten really good at detecting the websites that are always going to do you
harm.  What weâ€™re not so good at is detecting the more transient attacks.
Detecting attacks like content injection that only affect a single request or a
single subset of users, or perhaps only users that are logged in to a particular
site, only a particular user.  Weâ€™re not that great in detecting it because
we â€“ when we crawl the web, we donâ€™t see these sites, because this site are
usually distributed via e-mail or via Twitter or via a wide variety of other
mechanisms by which people try to trick you into clicking on links that will do
you harm.</p>

<p>I mentioned â€“ I mentioned content injection.  Content injection is a
broad term that â€“ of which XSS is a specific variant.  XSS means cross-site
scripting. And generally speaking, this means that an attacker is able to trick
a server into sending code that it didnâ€™t mean to.  That is, instead of only
delivering the JavaScript that actually makes up your application.  Your server
is tricked into also delivering some sort of malicious code, code that does harm
to a user or exfiltrates their data without them even knowing about it which is
actually even worse.</p>

<p>Why is XSS problematic?  Generally speaking, XSS is one of the most prevalent
problems on the web.  Almost every website will have an XSS flaw of one sort
or another at one time or another, even Google.  Given that, why is it
dangerous?  What can it actually do?  What can a â€“ an attacker do when
they can execute code in the context of your website?</p>

<p>To understand why itâ€™s important, you have to understand the concept of an
<a href="http://tools.ietf.org/html/draft-abarth-origin">origin</a>.  An origin is a pairing of a scheme, a host, and a port.  That is
<code class="highlighter-rouge">http</code>, <code class="highlighter-rouge">example.com</code>, <code class="highlighter-rouge">80</code>. or <code class="highlighter-rouge">https</code>, <code class="highlighter-rouge">google.com</code>, <code class="highlighter-rouge">443</code>.  Those are
distinct origins.  And because theyâ€™re distinct origins, they should and
must not have accessed to each others data. <code class="highlighter-rouge">example.com</code> must never have
access to <code class="highlighter-rouge">google.com</code>â€™s data.  And the browser can actually do a relatively
good job of enforcing this sort of restrictions.</p>

<p>Thereâ€™s a policy known as the Same-Origin Policy which basically means that
everything within the context of your origin has access to all of the data for
that origin.  It can access cookies, it can access <code class="highlighter-rouge">localStorage</code>,
<code class="highlighter-rouge">sessionStorage</code>, you name it.  Anything you are storing locally using any of
the wide variety of HTML5 mechanisms that are out there is accessible to any
and all code that runs within the context of your origin.  In other words, the
origin boundary is the only boundary that the browser can very effectively
enforce.</p>

<p>It is however the case that we generally includes script from all over the place
into our origins.  The browser allows this.  The browser really likes
JavaScript.  And basically any JavaScript it sees, itâ€™s going to execute. It
just loves JavaScript.  So every time it gets a chance to execute anything, it
executes, which is problematic, right?</p>

<p>Whatâ€™s the difference between these two <code class="highlighter-rouge">script</code> tags?</p>

<p>Exactly right.  There is no difference whatsoever.  If both of these <code class="highlighter-rouge">script</code>
tags are included on a page, the browser is going to go, â€œYay, JavaScript.â€,
grab them both, execute them as fast as it possibly can because Chromeâ€™s all
about speed and bad things are going to happen, right?  Now, visually we can
inspect these two scripts.  We can say the first one is awesome, the second
one not so much.  Perhaps, I want to execute the first one that was actually
part of my application.  The second one, I have no idea how it got to my page,
I didnâ€™t write that.</p>

<p>Well, it mightâ€™ve gotten on your page like this, right?  If youâ€™re using PHP
or any other wide variety of other templating languages and you donâ€™t properly
escape output, if you just say â€œHello {$name}!â€, and then accept whatever name,
the user gives you as their name then youâ€™re in trouble, right?  Because the â€“
if the user gives you a name of <code class="highlighter-rouge">&lt;script&gt;beEvil()&lt;/script&gt;</code> and you just
blindly write that out, then youâ€™re doing yourself of disservice.</p>

<p>This is how a lot of cross-scripting attacks happen.  There are a lot of
variants on this, so itâ€™s not always the case that itâ€™s just coming from a GET
parameter or a POST parameter.  Things can be stored locally, things can be
reflected from various pieces of the DOM.  So attackers are really, really
clever about finding holes in your site and exploiting them.  How many people
have dedicated members of their team working on security?  Thatâ€™s kind of what I
suspected.</p>

<p>I guarantee you that if you had any sort of high value data on your website or
even medium value, even low value data on your website, there are people that
are much more interested in getting access to that data then you are in
protecting it.  Because generally speaking, your teamâ€™s responsibility is to
build amazing new features and to build amazing new experiences for your users.
Itâ€™s kind of assumed that youâ€™re doing security work.  And the security work is
not really ever part of your goals for a quarter.  Your goal for the quarter is
yo build this amazing new page.  Itâ€™s not to make sure the other pages didnâ€™t
break in the meantime.  That should probably change, but weâ€™ll talk about how we
can mitigate the effects.</p>

<p>Happily, this is a absolutely trivial problem to solve. All you have to do is
perfectly escape every piece of output that you put on your site. Every piece.
Pieces that come from you and pieces that come from users.</p>

<p>You also have to perfectly escape it for the context in which this output will
find itself.  Hereâ€™s a relatively an exhaustive list of different context in an
HTML page, you have a color exported into a <code class="highlighter-rouge">style</code> tag, you have a name
directly in a paragraph tag, you have a URL thatâ€™s put directly into an
attribute of an HTML element, you have an ID thatâ€™s put directly into script,
and you have some debug information thatâ€™s put into a comment.</p>

<p>The rules for each of these contexts are different.  For example, inside of a
comment, two dashes will close the comment and everything else will be rendered.
Two dashes of course have no effect whatsoever inside a paragraph tag, but if
you open a script tag inside of paragraph tag then youâ€™re in trouble.  So you
need to understand the rules for each of these contexts and you need to
perfectly escape all information that you export into this contexts.</p>

<p>It is, honestly, trivial.</p>

<p>However, we are really bad at trivial things, apparently, if you look at the
history of the web.</p>

<p>Has anyone heard of OWASP?  O-W-A-S-P?  Excellent.  OWASP is an interesting
organization that does a lot of security research and lots of security
trainings.  They have â€“ as an example of the kinds of cleverness that
people can come up with for exploiting things in websites, this is an XSS
filter evasion cheat sheet]<a href="https://www.owasp.org/index.php/XSS_Filter_Evasion_Cheat_Sheet">owaspxss</a>.  Itâ€™s a little bit old, itâ€™s not really
new, it hasnâ€™t really been updated since like, I donâ€™t know, 2012 or so, 2011.
But thereâ€™s a lot of really interesting things in here that might make you think
again about the mechanisms by which you are filtering data thatâ€™s going out to
your websites.</p>

<p><a href="https://www.owasp.org/index.php/XSS_Filter_Evasion_Cheat_Sheet#Long_UTF-8_Unicode_encoding_without_semicolons">Long UTF-8 encode without semicolons</a>.  Did you know that you can
have UTF-8 entities put in to your site without semicolons?  So if youâ€™re
checking for ampersand, semicolon then youâ€™re kind of screwed because you donâ€™t
need those semicolons.  Ha ha, hurray for HTML.</p>

<p>Has anyone heard of <a href="http://www.jsfuck.com/">JSFuck</a>?</p>

<p><strong>Â»</strong> I have.</p>

<p><strong>Â» MIKE WEST:</strong> JSFuck is amazing.  It proves that you can write any line of JavaScript
using only six characters.  Open brace, close brace, open parenthesis, close
parenthesis, plus and bang.  Do your filters check for any of these characters?
They all seem relatively benign, right?  But if you put these into an attribute,
youâ€™re kind of screwed.</p>

<p>Does anyone know what this code does by the way?  Can you guess?  You can all
read this.  I mean, itâ€™s just JavaScript, right?  This is <code class="highlighter-rouge">alert(1)</code>.  Usually
you will do â€“ usually you will do <code class="highlighter-rouge">alert('XSS')</code> when youâ€™re doing a pentest
or something but <code class="highlighter-rouge">alert('XSS')</code> is about 6,000 characters long, so I
didnâ€™t paste it.  JSFuck is quite verbose.</p>

<p>Alex Russell puts this beautifully when he says, â€œI discount the probability of
perfection.â€  Itâ€™s really difficult to be perfect.</p>

<p>I would phrase it slightly differently: â€œWe are all idiots with deadlines.â€
We do the things that we think are important in the moment and itâ€™s very easy
to forget about things, these overarching things that are a critical
foundation of the work that we should be doing.  And itâ€™s very easy to make
small mistakes.  And unfortunately, small mistakes are really all that it takes.</p>

<p>So what I want to talk about today is what we can do inside of a browser to
mitigate the effects of our idiocy because generally speaking, there are going
to be holes in the websites that you create.  Itâ€™s almost unavoidable.  Itâ€™s a
question of â€“ itâ€™s a question of â€œwhenâ€ not â€œifâ€ thereâ€™s going to be a hole in
your sites and â€œwhenâ€ not â€œifâ€ that hole is going to be exploited.  It will be
really nice if there was some sort of â€“ I donâ€™t know a <em>policy</em> of some sort
that we could give to the browser that, I donâ€™t know will have an effect on the
<em>security</em> of our <em>content</em>.  I donâ€™t know.  Weâ€™ll back come back to that idea.</p>

<p>Does anyone what <a href="http://traumwerk.stanford.edu/philolog/2009/10/homers_odyssey_in_art_sirens_f.html">this painting</a> is?  This painting is <a href="http://en.wikipedia.org/wiki/Odysseus">Odysseus</a>
and the <a href="http://en.wikipedia.org/wiki/Siren">Sirens</a>.  Itâ€™s a really good story.  It goes something like
this. Odysseus is â€“ Odysseus is an amazing man.  And by that, I mean, that he
is an egomaniacal maniac and bastard.  This story goes something like this:
Sirens, they sing beautifully.  So, beautifully in fact, that they drive you to
the brink of madness, sailors in particular, they really like sailors for some
reason, who knows why.   Sailors are driven to the point that they â€“ all they
want to do is be near this music to hear more of the music, so they end up
throwing themselves overboard whenever they, you know, sail around the island
where these sirens find themselves.  The ship then crashes on the island then
these sirens I guess eat people, who knows.</p>

<p>Regardless, Odysseus decides, because he is an amazing man, that he wants to be
the only living person to have heard the song of the sirens and survived.  So,
what does he do?  Well, he tells his men to tie him to the mast.  So, they bind
him quite tightly, his hands behind his back, his legs are tied to the mast.  He
canâ€™t go anywhere.  But he can hear the music.  He simply prevented from doing
things that would be stupid, you know, acknowledging the fact that the entire
endeavor is stupid.  He then, instructs his men to put beeswax in their ears and
they, you know, wrapped things around their head, you know, primitive sorts of
earmuffs so that they canâ€™t hear the music of the sirens.  And he gives them
explicit instruction.  You know, â€œrow next to this islandâ€, â€œdonâ€™t go to the
islandâ€, â€œdonâ€™t jump out of the boatâ€, and â€œjust keep rowingâ€, right?   The
sirens come, they sing their beautiful songs.  Heâ€™s driven to the brink of
madness but heâ€™s able to continue on his path because heâ€™s given these
instructions and then heâ€™s prevented his men from acting on these distractions.</p>

<p>Itâ€™d be really great if we could do something like this with the browser.
Where we could tell the browser, â€œHey, this piece of code is what you want to be
executing.â€  These distractions, all this other beautiful JavaScript thatâ€™s out
here that youreally, really want to go execute and look at it, but please do not
touch, right?  It would be nice if your application could ask the browser to tie
its hands behind its back and prevent it from doing things that it knows are
going to be bad idea.</p>

<p><a href="https://mkw.st/r/csp">Content Security Policy</a> is this thing.  It is gorgeous.  It will give you
errors like this when people try to inject code into your sites. <code class="highlighter-rouge">Refused to
execute inline script because it violates the Content Security Policy
directive: "script-src 'self'"</code>.  Weâ€™ll talk about this in a little bit more
detail.  But the core idea I hope is clear.  Content Security Policy gives you a
mechanism by which you can whitelist certain origins of content and allow only
those origins to execute within the content â€“ within the context of your
origin. That is, if I want to include <a href="http://www.google.com/fonts">Google Web Fonts</a> I can only
whitelist the origin from which this font should come.  I get script from that
origin, I get fonts from that origin, but I shouldnâ€™t get them from anywhere
else in the web.  This is really quite powerful.</p>

<p>The specification is <a href="https://dvcs.w3.org/hg/content-security-policy/raw-file/tip/csp-specification.dev.html">here</a>.  Content Security Policy
1.1 is currently in draft.  Content Security Policy 1.0 is a candidate
recommendation.  Itâ€™s currently implemented in Chrome.  Itâ€™s implemented in
Firefox 23 which just came out as an unprefix header.  Weâ€™ll talk about that in
a little bit.</p>

<p>I edit the spec along with <a href="http://www.adambarth.com/">Adam Barth</a> and <a href="https://twitter.com/dveditz">Dan Veditz</a> from
Mozilla.  They are much smarter than I am, so I just kind of sit there and type
whatever they say.  Itâ€™s great.</p>

<p>So, what could a Content Security Policy look like?  Content Security Policy is
delivered as an HTTP header.  This is the â€“ this is the policy thatâ€™s being
used on an incredibly high value website <code class="highlighter-rouge">mikewest.org</code>.  Yeah.  Content
Security Policy is the name of the header, right. So, you send
<code class="highlighter-rouge">Content-Security-Policy</code> and then the value is a semicolon-delimited list of
directives.  Each of these directives controls a specific type of content.</p>

<p>Here, Iâ€™ve set the default of <code class="highlighter-rouge">'none'</code>, in other words, nothing should
be allowed on my site.  Then, I slowly open that up and start saying, â€œOkay.
Well, okay.  Nothing except style from my CDN.  Okay.  Nothing except style and
frames from these two places.â€ and so on.</p>

<p>And you see here that Iâ€™ve whitelisted <a href="https://www.speakerdeck.com">https://www.speakerdeck.com</a>.  I did
that because Speaker Deck, being awesome, serves things over HTTPS whereas
other services do not and have no intention of doing so.  This is problematic
especially if youâ€™re on a HTTPS site because Chrome and Firefox has started
actually blocking HTTP content within the context of an HTTPS site.  So, itâ€™s
really good if you run a service of any sort and you expect people to embed
things on the web, serve it over SSL.  If you donâ€™t serve it over SSL, slowly
but surely your options are going to be limited with regards to where that
content can be embedded.  All right.</p>

<p>So, script â€“ sorry â€“ style, frames, script images, fonts, and so on.  This is
an exhaustive list of the directives that exist in
<a href="http://w3.org/TR/CSP">Content Security Policy 1.0</a> which is currently available in Chrome.
There are couple of additional directives behind a flag in Chrome.  So, if you
go in to Chrome flags and then enable â€œExperimental Web Platform featuresâ€
(&lt;chrome://flags/#enable-experimental-web-platform-features&gt;), then youâ€™ll be
able to start playing around with the 1.1 stuff immediately.</p>

<p>And Iâ€™ll talk about a little bit about whatâ€™s new in 1.1 later because they are
like two important things and then a bunch of other stuff thatâ€™s gotten through
for one reason or another.  Whatâ€™s interesting here is the last item, a report
URL or URI.  Yeah, URI.  What this does is actually gives you insight into
whether or not youâ€™re being attacked.</p>

<p>You can run Content Security Policy in such a way that every time thereâ€™s a
violation, every time a resource is loaded that â€“ Iâ€™m sorry â€“ an attempt to
load a resource has made that goes â€“ that violates your policy, youâ€™ll get a
POST message from the browser.  The browser will say, â€œHey, I tried to load this
thing and I blocked it.  It was on this page.  It had this URL, maybe you should
take a look at that,â€ which is really quite useful if youâ€™re auditing websites.</p>

<p>Whatâ€™s nice here is that you can actually run kind of Content Security Policy in
a â€œReport Onlyâ€ mode.  That is it wonâ€™t actually block any content on your site.
What it will do instead is simply send these POST messages out to your web
server so that you can start cleaning up your site before you actually deploy a
Content Security Policy.  Whatâ€™s really nice is that you can actually run both
a Report Only mode and an Enforce Mode policy at the same time.  So, you can
have a really loose enforce policy that says <code class="highlighter-rouge">https:</code> only.  So I should load
everything over HTTPS and if I donâ€™t, then start telling me about that, so
that I can find these places on my site that need to be cleaned up.  Then you
can also have a Report Only mode thatâ€™s more restrictive where you start saying
only this origin, only that origin, no inline script, and so on.  This gives you
a nice mechanism by which you can start rolling this out.  You start getting
information about how your siteâ€™s actually behaving in the wild and it gives
you a good opportunity to start cleaning up these areas that need work.</p>

<p>If any of you have any questions by the way, please ask.  Did you have a
question? Okay.  Iâ€™m sorry.  Anyway, you see the report information here.
There are variety of attributes.  They do more or less what they say on the
tin. <code class="highlighter-rouge">document-uri</code> is the document what was being attacked.  <code class="highlighter-rouge">referrer</code> is
the link from which the user came and so on.  The interesting bit might be the
source file line number and column number at the end.  If the violation came
from JavaScript weâ€™ll do our best to give you some context that you can actually
find it again later on.</p>

<p>But what do we do about inline script?  What origin would you say that this
comes from?  Itâ€™s not being loaded via a script tag, right?  Itâ€™s just
inline in the page.</p>

<p>Ha-ha, we didnâ€™t know either.  So, we invented one, we called it <code class="highlighter-rouge">'self'</code>
<em>(I should have said <code class="highlighter-rouge">'unsafe-inline'</code> hereâ€¦ Oops!)</em>. Basically, inline
script is the biggest problem that we saw on the web.  And itâ€™s the core reason
the Content Security Policy is valuable.  We can instruct the browser to not to
execute inline script.  This means that even if an attacker can inject script
into your page they canâ€™t do anything.  Theyâ€™ve just injected text, itâ€™s not
executed which means itâ€™s not dangerous.  It does mean however that if you have
inline script in your page that youâ€™re using now, youâ€™re going to have to do a
little bit of rewriting.  So, code that looks like this, where it defines a
function inline in the page and then has inline <code class="highlighter-rouge">onclick</code> handlers or
<code class="highlighter-rouge">javascript:</code> URLs or something along those lines, we have to be rewritten
something like this.</p>

<p>So, you externalize the script.  You put it in to an external file, you load it
from that file, and then you do some DOM manipulation in order to add event
listeners.  Quite honestly this is what you should be doing now.  I know there
are good reasons for inline script.  I know there are interesting performance
questions around it.  Generally speaking our approach with Content Security
Policy has been to throw the baby out with the bathwater and then to look in the
water and see if we can pick the baby up.  So, in 1.1 weâ€™re going to be digging
around in the water, and Iâ€™ll show you a little bit of that in a moment.  For
1.0, to get something out the door that was really valuable, we simply say
inline script is banned.</p>

<p>You can however turn it back on by using the <code class="highlighter-rouge">'unsafe-inline'</code> origin.  We call
it â€œunsafe inlineâ€ because itâ€™s kind of unsafe and we kind of donâ€™t want you to
do it.  Regardless, hereâ€™s <a href="https://mkw.st/r/csp">that article again</a>.  This article gives you
really all of the practical detail that youâ€™re going to need in order to do â€“
to start implementing this on your own.  I think its well worth your time.  I
really believe the Content Security Policy is one of the most effective
mechanisms to mitigate the risk of cross-site scripting thatâ€™s come out in the
last several years.  Itâ€™s not perfect.  There are ways to get around it.
Thereâ€™s an excellent paper called <a href="http://lcamtuf.coredump.cx/postxss/">â€œPostcards from the Post-XSS Worldâ€</a>
where people have already figuring out how they can attack you after you have
Content Security Policy that bans inline script.  Attackers are really, really
clever but we should make it as hard as possible for them and I think Content
Security Policy is a great way to do that.</p>

<p>Letâ€™s take a quick look at the <a href="https://dvcs.w3.org/hg/content-security-policy/raw-file/tip/csp-specification.dev.html">1.1 spec</a> just so I can tell you about
it.  Now Iâ€™m in full screen mode.  Iâ€™m sorry.  So, I had everything open on the
other machine and then it decided not to connect.  So, weâ€™re going to go and
letâ€™s see if I can remember where it is.  Yeah, look at that.  So, Content
Security Policy 1.1.  The interesting bits of Content Security Policy 1.1 are
the inline stuff.  Thereâ€™s also â€“ thereâ€™s some discussion around the JavaScript
API that might or might not go anywhere.  But letâ€™s look at â€“ oh, thatâ€™s right.
It used to be a separate directive and now itâ€™s not.  So, we have the ability to
embed nonces as valid sources of script andâ€¦ I have no idea where it is.</p>

<p>I just write this stuff.  I donâ€™t know where it actually is.  Give me a break.
How can I be expected to find anything? So, â€œvalid noncesâ€, that sounds good.
And itâ€™s a Swiss keyboard, this is sweet.</p>

<p>All right, youâ€™ve seen something like this.  Anyway, the idea â€“ there are two
competing ideas that we kind of donâ€™t want to implement both of them but we want
to discuss both of them.  One of them is a nonce which basically a one-time pad.
A server, when it generates a page, should generate a unique idea along with
that page and send it in the header.  It then would embed that ID as a <code class="highlighter-rouge">nonce</code>
attribute on each of the scripts that are enabled.  This means that if the
server does its job and generates a new nonce every time, that an attacker
wonâ€™t be able to guess it.  So, even if they inject script, it wonâ€™t have the
<code class="highlighter-rouge">nonce</code> attribute and then wonâ€™t be executed.  It has the advantage of being
very simple, it has the advantage of being transferable so that if I load a
third-party widget, I can give it the nonce as well and it can then inject code
into my page if I trust it to do that.  And ads do this all the time, so, for
ads, itâ€™s kind of an important use-case regardless of whether itâ€™s a good
use-case or not.  The other option is a hash where we would basically hash the
inline script.  And take, like, the SHA-1 or SHA-256 hash of the script and
then compare that to something that was in the header so that you could only
inject code that match this hash.  I think both of them have advantages and
disadvantages.  And theyâ€™re being discussed right now on the
<a href="http://lists.w3.org/Archives/Public/public-webappsec/"><code class="highlighter-rouge">public-webappsec@</code></a> list.  Iâ€™ll get there right now.  So,
the <a href="http://www.w3.org/2011/webappsec/">Web Application Security Working Group</a> is the group that is
doing this work.  And from this page, youâ€™d be able to find a link to the
discussions that are going on the â€“ on the mailing list.  If you have opinions
and you can back them with use-cases, Iâ€™d really suggest that you get involved.
Just join the working group, join the discussion.  Weâ€™re still kind of in the
formative stages of 1.1 so itâ€™s a good time to get involved.</p>

<p>Well. OK, cool.</p>

<p>So, that is Content Security Policy. That is the one thing that I want you to
remember from this talk.  I think itâ€™s incredibly important, I think itâ€™s well
worth your time to play around with. Now, weâ€™re going to talk about other stuff
because I have more time.</p>

<p>Some of the things that I think are important.  SSL is the first and foremost
of these. I think serving your sites over a secure channel is an absolute
prerequisite to any conception of security whatsoever.  If youâ€™re serving your
site over HTTP, you have absolutely no guarantee that the bits that leave your
server are the same bits that are getting to the â€“ to the client and you have
no guarantee that the bits that came from the client are the bits that actually
reached your server.</p>

<p>We conceive of the internet somehow like this, that I have my laptop, I send
the request directly out to a server.  I get a request or I get a response
directly back from the server.  But when we think about it, we know that thatâ€™s
not at all how things work.</p>

<p>Instead, I go to conferences and I join the Wi-Fi network at a conference.  And
then I send all my requests through this Wi-Fi network.  Do you trust <a href="http://2013.frontendconf.ch/about/">the
people that run Frontend Conf</a>? I donâ€™t know, they look kinda shady.</p>

<p>Generally speaking, proxies that sit between you and the servers that you want
to talk to have complete control over every HTTP connection.  Thereâ€™s simply
nothing that you can do to verify anything about the connection whatsoever.
Itâ€™s unencrypted, sent in the clear, which means that those proxies have a)
the ability to modify the request but also the ability to read the request and
store them and send them to exciting people like the US government.  What I
would suggest is that your conception of the world should look something like
this where thereâ€™s always something in between you and the server and you
should never trust it.  You should always assume that everything going through
external servers is being tainted in some way.</p>

<p>You can fix that to an extent by encrypting the data thatâ€™s being sent.  This
at least guarantees that the information thatâ€™s leaving your computer can only
â€“ well, mostly only â€“ be read by the server that itâ€™s going to.  And mostly
only â€“ and you can mostly only read the responses that are coming back.  SSL
is not perfect.  There are a lot of ways in which SSL can leak information and
we discover new and exciting ways almost everyday.  However, it is the only
guarantee that we have, period, that any information you send is going to be
the same information thatâ€™s going out to the â€“ to the server and vice versa.
Given that, I think itâ€™s highly important for any service that is doing anything
with any information that has any value whatsoever, any, to use SSL.  Itâ€™s
really quite important.  And itâ€™s also really quite easy.  For example,
StartSSL (which is much bigger than 124 â€“ or 1024 by 768) will give you free
SSL certificates.  All you need is an IP address. StartSSL is great.  I use them
for my site.  Itâ€™ll look something like this when you do.  It wonâ€™t look like
this because I never touch this thing, but youâ€™ll get a nice green thing up
here.  Youâ€™ll get some green stuff there.  Youâ€™ll get some green things over
here which is kind of nice.  But basically, all of that is theater.  What it
means simply is that you have the ability to encrypt the connection between
you and the client and that is only a good thing.  If you start setting up SSL
and you want to make sure that youâ€™ve done it correctly, thereâ€™s an excellent
website called <a href="https://www.ssllabs.com/ssltest/index.html">ssllabs.com which has an SSL test</a>.  This will run
through a lot of tests that show you in great detail how you have screwed up
your SSL connections or how you have screwed up your SSL system in general.</p>

<p>I apparently still have some work to do.</p>

<p>Generally speaking, SSL is really quite valuable, really important, and not
that difficult to set up.  Itâ€™s like <a href="http://wiki.nginx.org/HttpSslModule">three lines in Nginx</a> and itâ€™s
probably similar in just about every other system.  The only complication is
generating a request and then sending the request off and then getting a
response back and making sure that you <a href="http://www.digicert.com/ssl-certificate-installation-nginx.htm">concatenate things in the right
order</a> so that Nginx will send it.  Itâ€™s really quite straightforward
and really quite nice.  So, I highly recommend that you do that.</p>

<p>Once you do, once youâ€™ve gone ahead and set up SSL, make sure that all your
users are using it all the time.  That is if someone requests an HTTP page,
redirect them to the HTTPS page.  Thereâ€™s a 301 permanent redirect, itâ€™s just
the location header, itâ€™s really quite straight forward.  The clever amongst you
will notice that this leaves a window of opportunity for an attacker to do
some interesting things.  They could <a href="http://en.wikipedia.org/wiki/HTTP_Strict_Transport_Security#Applicability">strip this redirect</a>, for
instance.  They could man-in-the-middle you at that point and say, â€œOkay, Iâ€™m
going to keep you on HTTP but Iâ€™m going to do the HTTPS connection over here to
the server and then Iâ€™ll just forward the information to you.â€  They can keep
you on HTTPS â€“ or HTTP by doing so.  To get back to the concept of client-side
and browser-side, you can actually instruct the browser to <em>only</em> connect to
your website over HTTPS regardless of what the user actually types into the
address bar.  You do that by setting a <a href="http://www.html5rocks.com/en/tutorials/security/transport-layer-security/#closing-the-open-window"><code class="highlighter-rouge">Strict-Transport-Security</code>
header</a>.  What this means is that the browser will do a transparent
redirect locally before it actually goes out to the network.  So, if I type in
<code class="highlighter-rouge">mikewest.org</code>, or if I type in <code class="highlighter-rouge">http://mikewest.org</code>, the browser will actually
switch that to HTTPS for me before it goes out to the network.  This means that
thereâ€™s not â€“ thereâ€™s only one window of opportunity for an attacker to strip
the SSL connection and thatâ€™s the very first time you connect to a site.  So,
connect from home in the dark with a hood over your head or something so that
youâ€™re extra secure.  And then when you go out in to the wild and dangerous
world, youâ€™ll be guaranteed that you go to HTTPS and not http.  If youâ€™d like
to see the list of websites that is actually already set up within Chrome or
within Firefox, then go to &lt;chrome://net-internals&gt; and check.</p>

<p>So, I can look at <code class="highlighter-rouge">mikewest.org</code> and youâ€™ll see that itâ€™s in strict mode that
include â€“ doesnâ€™t include subdomains and thereâ€™s some nother stuff that Iâ€™ll
talk about in just a minute. So, Strict Transport Security, itâ€™s a good
thing, I highly recommend that you set it up.  This means you have SSL and all
your users use it all the time, or as close to all the time as you could possibly
get.</p>

<p>If you want even more security â€“ well, actually this is something that you
should do even if you donâ€™t want security.  Even if you donâ€™t care at all, you
should do this anyway.  <code class="highlighter-rouge">Set-Cookie</code>, whenever you set cookies, make sure that
you set a â€“ the <code class="highlighter-rouge">secure</code> flag, which means that they are only sent over SSL and
never sent over HTTP and you set the <code class="highlighter-rouge">HttpOnly</code> flag which means your cookies
are not accessible from JavaScript.  This means even if someone can inject
JavaScript into your page and, even if it gets past your policy and even if itâ€™s
executed, they still wonâ€™t be able to steal users authentication tokens because
â€“ well, not easily anyway.  They wonâ€™t be able to do it via JavaScript.
Theyâ€™ll have to find other ways in your site to expose the value of the cookie.</p>

<p><code class="highlighter-rouge">Public-Key-Pins</code> is a mechanism of making your security even more secure.  So,
the weakest link in SSL right now are the people that issue SSL certificates,
the <a href="http://en.wikipedia.org/wiki/Certificate_authority">Certificate Authorities</a>.  Itâ€™s the case that any certificate authority
has the authority to issue certificates for any origin on the web.  So, I can
issue a <code class="highlighter-rouge">google.com</code> certificate, you can issue a <code class="highlighter-rouge">google.com</code> certificate, itâ€™s
just a beautiful world where we all have this ability. Google, however, would
prefer that not everyone have this ability.  Since we canâ€™t change the CA system
as it is, we can instead look to things that ensure that the certificate is only
acceptable if it meets whatever requirements we set up.  In this case,
<code class="highlighter-rouge">Public-Key-Pins</code> gives us the ability to send a header that says only accept
certificates whose public key matches this hash.  This means we only accept
certificates that we have signed, not that <em>anyone</em> has signed but that <em>we</em>
have signed.  This gives you the ability to only accept <em>certain</em> certificates
and not <em>all</em> certificates that are valid for a particular origin.  Itâ€™s really
quite valuable especially if your site is a high-value target thatâ€™s under attack.</p>

<p>I havenâ€™t set this up on my site because it is incredibly easy to screw up.  If
I lose my keys, then people would no longer be able to access my website because
I would generate a new SSL cert but, for the max age of the pinning, which in
this case is â€“ I donâ€™t know, some long amount of time, I think thatâ€™s a month
â€“ people would go to my website and then they get an SSL error even though Iâ€™ve
set up everything on my end.  So, you need to be really, really sure that youâ€™re
doing everything right before you start implementing this.</p>

<p>If you want to go a step further, you can talk to Chrome and you can talk to
Firefox about having your website <a href="http://src.chromium.org/viewvc/chrome/trunk/src/net/http/transport_security_state_static.json">hard-coded into Chrome as being on the HSTS
list</a>.  What this means is that thereâ€™s no window of opportunity for an
attacker to strip SSL on your site.  So, <code class="highlighter-rouge">mail.google.com</code>, <code class="highlighter-rouge">paypal.com</code>, a
wide variety of sites had chosen to do this.  Theyâ€™re basically hard-coded into
Chrome as a list of sites that should always be HSTS, that should always use
Strict Transport Security.  And if your site is one those sites, just <a href="http://crbug.com/new">file a
bug</a> and weâ€™re happy to add any site and every site but beware
of the consequences because if youâ€™ve then screwed up your SSL then no one can
get to your site, ever, with Chrome.</p>

<p>That is Transport Level â€“ <a href="http://src.chromium.org/viewvc/chrome/trunk/src/net/http/transport_security_state_static.json">Transport Layer Security</a>.  Thereâ€™s one more
topic that I was going to talk about but I think Iâ€™m going to skip it because
itâ€™s not particularly important.  The slides are online so please feel free to
skim through all the <code class="highlighter-rouge">&lt;iframe sandbox&gt;</code> stuff.  Itâ€™s pretty interesting but
itâ€™s not critical.</p>

<p>What I think is critical is, again, one more time, just so everyone remembers,
<a href="https://mkw.st/r/csp">Content Security Policy</a>.  Itâ€™s really important.  I think itâ€™s the
single biggest step forward that weâ€™ve made in quite some time with regard to
mitigating the risk of cross-site scripting attacks.  Itâ€™s not perfect.
Attackers will still attack you after you have a policy but at least youâ€™ve
raised the bar to the point where attacking you is hard as opposed to not so
hard.  Thank you for your time.</p>

<h2 id="qa">Q&amp;A</h2>

<p>Do you have any questions?  Iâ€™d be really happy to answer them.  Yeah?</p>

<p>I mean, maybe, depending on the question.</p>

<p><strong>Â»</strong> So, this oneâ€™s going to be hopefully challenging.  So, we were on quite a big
web service and we really rely on advertising on all pages.  So, what we get a
lot is, from security web people like people in this room, is use f-ing SSL
and we cannot do that because of all the advertising.  Most advertisers do not
use SSL to serve ads.  Do you have any suggestions what we could do about it?</p>

<p><strong>Â» MIKE WEST:</strong> I â€“ well, the flip suggestion would be find advertisers that serve over
SSL.  The less flip suggestion is that weâ€™re moving in that direction.
Advertisers in general are starting to understand that they simply â€“ they canâ€™t
embed into it â€“ SSL sites.  And because of that, theyâ€™re going to start losing
revenue.  Itâ€™s not happening as quickly as Iâ€™d like, but generally speaking, the
trend is for everything on the net to be encrypted.  If you look at <a href="http://www.chromium.org/spdy">SPDY</a>, if
you look at <a href="http://blog.chromium.org/2013/06/experimenting-with-quic.html">QUIC</a>, if you look at HTTP2 which is currently in discussion, the
general trend in those discussions is starting with SSL, and that there just
isnâ€™t a non-encrypted variant.  Thereâ€™s some discussion around that,
specifically around caching because encryption makes caching difficult.  But
generally speaking, the trend is towards encryption and the trend, specifically
with new protocols, is to only have encryption and to simply not have a
non-encrypted channel.</p>

<p>So, my answer would be that it gets better but they weâ€™re going to have to wait
for that betterness.</p>

<p>For now, I would suggest using advertisers that can serve over SSL like Google,
for instance.  But generally speaking, I honestly believe that this is going to
be a feature that website owners are going to start asking for more and more.
And itâ€™s up to website owners and publishers to put pressure onto advertisers so
that they actually start doing the right thing.  Until that pressure, until that
market pressure exists, itâ€™s going to be very difficult to move advertisers
towards a more secure world.</p>

<p><strong>Â»</strong> Hi.  Thank you for this talk.  Whatâ€™s your opinion on this plugins that
came last year like <a href="https://www.eff.org/https-everywhere">HTTPSEverywhere</a> for Firefox as well as Adblock Plus
which has been, I believe, two or three months ago.  In Germany, there was a
big announcement of all these media sites serving, saying to you. You have an
Adblocker, please, please disable it because we are relying on advertising,
for example.</p>

<p><strong>Â» MIKE WEST:</strong> I think those are â€“ I guess I would say that those are two completely
different questions.  I think <a href="https://www.eff.org/https-everywhere">HTTPSEverywhere</a> is wonderful.  I highly
encourage that you install HTTPSEverywhere.  Itâ€™s a plugin, an extension or a
plugin depending on your browser from the EFF, the <a href="https://www.eff.org/">Electronic Freedomâ€¦</a></p>

<p><strong>Â»</strong> Foundation.</p>

<p><strong>Â» MIKE WEST:</strong>  Yes, I donâ€™t â€“ itâ€™s just <a href="https://www.eff.org/">EFF</a> and itâ€™s awesome. I <a href="https://supporters.eff.org/donate">give them
money</a>, I just donâ€™t know their name.</p>

<p>Generally speaking, I would highly recommend that you install it because what
it does is â€“ has a list of all services or lots of services that serve things
over HTTPS but for whatever reason give you HTTP options.  It forces you onto
HTTPS.  So, itâ€™s kind of like a client-side version of the Strict Transport
Security that we talked about.  And then, I recommend that you install it but
understand that not every publisher actually expects you to use HTTPS, so, it
breaks sometimes.  You have to understand that maybe for this site, you have
to turn it off and itâ€™s a little bit more work but youâ€™re certainly more
secure because youâ€™re sending the vast majority of your traffic over HTTPS
and thatâ€™s a very good thing.  AdBlock is kind of a completely different
question and Iâ€™m going to ignore it.</p>

<p>I wonâ€™t actually.</p>

<p>AdBlock â€“ I donâ€™t understand Adblock.  I understand why people use it because
ads are often annoying. But for good or for ill, advertising is absolutely
central to financing the web, period, whether you like it or not.  Given that,
I think itâ€™s problematic if a large portion of the populace is blocking ads.
Iâ€™m not going to tell you to stop blocking ads because youâ€™re not going to.
But generally speaking, I think itâ€™s the wrong thing to do.  I think the right
thing to do is to vote with your feet and if you donâ€™t like the ads on a
particular publisher, donâ€™t visit that publisher.  I understand there are
reasons that people use it. Weâ€™ve talked about it yesterday or the day before.
But generally speaking, I see it as really problematic and I find that when
people complain about ads in the web, like, I find it unsympathetic, but of
course I would because I work for Google so, who knows?  Feel free to ignore
that.</p>

<p>Weâ€™ll talk afterwards, okay? Itâ€™s not really this topic so weâ€™ll talk
afterwards.</p>

<p><strong>Â»</strong> Yeah, sorry.  I quite like the reporting feature which we saw before and â€“ but
there was just a question on twitter.  Is there some way to prevent misuse?
Because like the URL for reporting is then public and basically everyone can
submit anything there, so, how to use a tech if itâ€™s really from a browser orâ€¦</p>

<p><strong>Â» MIKE WEST:</strong> Yeah.  So, we do â€“ we â€“ First, I would suggest that you should
already have things in place that do rate-limiting.  So, if youâ€™re being DDOSâ€™d
then you should have mechanisms in place, and this isnâ€™t gonna make that any
worse. Second I would say, that for same-origin reporting mechanisms, so, if
<code class="highlighter-rouge">example.com</code> reports to <code class="highlighter-rouge">example.com</code>, we send cookies.  If example.com reports
to something else then we donâ€™t send cookies.  So, at that point, you can use the
cookies as some sort of authentication mechanism and say that, you know, this is
coming from this user. What you can also do is have a token, a <a href="http://en.wikipedia.org/wiki/Cross-site_request_forgery">CSRF token</a> in
the reporting URL and say that for this page, you go to this URL, for this page,
you go to that URL, just with GET parameters and then verify that those
parameters are actually what you expect them to be.  So, in the same way that
you verify form submissions, you can also verify these sorts of POSTs. And I
think that would take care of most of the mechanisms.</p>

<p>Youâ€™re making him run, thatâ€™s just mean!</p>

<p><strong>Â»</strong> Iâ€™ll raise about full HTTPS, what is the impact first about SEO, how Google
look about HTTPS for the website, have an impact?</p>

<p><strong>Â» MIKE WEST:</strong> I have no idea but Google serves basically everything itself over SSL,
almost everything.  And generally speaking, Google as a company wants people to
be using SSL.  Iâ€™d be shocked if SSL had a negative impact but I am not a
quote-unquote â€œSEO expertâ€, so donâ€™t take my word for anything.  Talk to people
who know something about SEO.</p>

<p><strong>Â»</strong> Just a last comment, when you have a big website with lots of view, if you
use full SSL, of course, we need to have a bigger hosting environment.  How many
percentage?</p>

<p><strong>Â» MIKE WEST:</strong> Not significantly.  So, there is kind of this general common knowledge
that SSL is much slower than HTTP.  Itâ€™s not that slow.  I think youâ€™re going
to â€“ Iâ€™m going to quote it wrong.  Thereâ€™s a â€“ there are some really smart
people at Google.  One of them is â€“ whatâ€™s the guyâ€™s name?  Smart guy at
Google, help me out.  Violet â€“ SSL something â€“ <a href="https://www.imperialviolet.org/">ImperialViolet</a>, there
we go. Oh, and look, thatâ€™s like â€“ thatâ€™s the exact article I wanted to go to.
That is sweet.  So, thereâ€™s <a href="https://www.imperialviolet.org/2010/06/25/overclocking-ssl.html">a good article on ImperialViolet.org called
â€œOverclocking SSLâ€</a>, where it talks a little bit about the
impact of SSL.  I want to say, yeah, one â€“ less than 1% of the CPU load, less
than 10K of memory per connection, less than 2% of network overhead.  There is
overhead, it is minimal.  This was 2010.  My suspicion is that itâ€™s even lower
at this point.  So, if you have set things up poorly, then your siteâ€™s going to
be slow.  If, however, you follow the best practices for setting up SSL
connections and do the right things with regard to <a href="http://tools.ietf.org/html/draft-bmoeller-tls-falsestart">false-start</a>
and a variety of other code, weird configuration options, youâ€™re going to have a
site thatâ€™s exactly as fast â€“ within 1% of â€“  non-SSL sites.</p>

<p><strong>Â»</strong> I have one more question about the SSL thing which is, are there any
disadvantages in using a free SSL provider like you were showing in comparison
to the quite expensive other ones?</p>

<p><strong>Â» MIKE WEST:</strong> Yeah.  I donâ€™t get it.  I think Thawte would love for you to believe
that their certificates are more valuable.  They are not.  You get 204 â€“ 2048
bits of encryption with any certificate ever.  Certs are certs.  They are a text
file thatâ€™s like that long, thereâ€™s no reason to pay thousands and thousands of
Euros.  Itâ€™s kind of a ridiculous racket.  They can do that because people trust
them.  So, if youâ€™re doing â€“ the only reason â€“ sorry, the only reason that I would
suggest using any of these services that are, you know, widely known and widely
trusted is that some networks, especially inside of enterprises for whatever
reason, only trust certificates from certain providers.  Generally speaking,
<a href="https://www.startssl.com/">StartSSL</a>, which is the one that I recommend and the one that I use, is
well-supported across the world but you would have to test in the specific
enterprise whether theyâ€™ve, for whatever reason, disabled certificates from
people other than, like, the two CAs that they trust.  So, the only reason
thatâ€™s valuable is because itâ€™s a racket.</p>

<p><strong>Â»</strong> You just showed us this http header was â€“ the pin whereâ€¦</p>

<p><strong>Â» MIKE WEST:</strong> Uh-hmm.  Yeah.</p>

<p><strong>Â»</strong> Do we need a <a href="https://www.startssl.com/">StartSSL</a> or some provider like that anyway orâ€¦</p>

<p><strong>Â» MIKE WEST:</strong> Yeah, yeah.  Youâ€™d have to have a cert before you can pin a cert, so
pinning.</p>

<p><strong>Â»</strong> Maybe somewhat, self-sign it toâ€¦</p>

<p><strong>Â» MIKE WEST:</strong> You can self-sign it and you can pin a self-signed certificate but the
browser isnâ€™t going to trust that anymore.  Thereâ€™s been <a href="https://www.imperialviolet.org/2011/06/16/dnssecchrome.html">some discussion around
making self-signed certificates less terrible in terms of their
presentation</a> but I donâ€™t think thatâ€™s going to roll out to the web.</p>

<p><strong>Â»</strong> I see your point before that <a href="http://en.wikipedia.org/wiki/Extended_Validation_Certificate">EV SSL</a> isnâ€™t worth a lot really.  Why in
browsers do â€“ do browser producers actually change the icon?</p>

<p><strong>Â» MIKE WEST:</strong> That is an excellent question.  You would have to talk with whoever
made that decision.</p>

<p>I donâ€™t think thereâ€™s any value to EV certificate. Basically, the certification
means that you have a lot of money and that you paid someone.  And that gives
you your name in the URL bar and I guess that has some value, and if youâ€™re a
company then you have money to burn anyway so, hey, why not throw money at SSL.
But generally speaking, there is no difference, period, between the encryption
that you get with a self-signed certificate and a totally expensive EV
certificate.  The encryption is exactly the same.</p>

<p>Great. Thank you very much.</p>

<p>If you have any questions at allâ€¦</p>

<p><strong>Â»</strong> Thank you, Michael.  Weâ€™ll follow-up with our closing keynote.  Just a moment.</p>

:ET