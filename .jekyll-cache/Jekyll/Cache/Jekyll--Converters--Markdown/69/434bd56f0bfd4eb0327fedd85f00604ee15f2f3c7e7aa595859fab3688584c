I"’<p>Iâ€™m currently in the process of gutting my website, and rebuilding it piece by piece.  I suspect Iâ€™m doing this to distract myself from the fact that I donâ€™t seem to have anything interesting floating around in my head to write about.  â€œSurely itâ€™s the <em>siteâ€™s</em> fault; raze it to the ground!â€, the large, simple, and shouty part of my brain tells me.  So I build anew (this is possibly <a href="http://mikewest.org/2009/09/productivity-or-my-lack-thereof">ironic</a>, but Iâ€™m ignoring that).</p>

<p>Happily, the small, quiet, and generally reasonable portion of my brain agrees with the plan, at least insofar as itâ€™s clear that the current system (<a href="http://github.com/mikewest/fallow/">fallow</a>) was a solid idea but poorly implemented.  The system works, and Iâ€™m happy I wrote it.  It was a good introduction to Ruby and Git, and a good reason to migrate off the almost-as-inefficient-as-wordpress Textpattern.  But itâ€™s failing me in a number of ways, the most important being that I literally forgot how to get content onto the site, and it took me 45 minutes of reading through painfully structured Ruby code to figure it out again.  Thatâ€™s the sort of thing that happens when you donâ€™t touch a website for 6 months.</p>

<p>Rather that catalog the failings of the system Iâ€™m replacing (for they are legion), Iâ€™d like to touch on the carefully considered bits Iâ€™m keeping:</p>

<ul>
  <li>
    <p>URL structure: Posts live at <code class="highlighter-rouge">/[year]/[month]/[URLified Title]</code> which
seems more or less perfect to me.  Itâ€™s meaningful, while containing just
enough temporal context to make completely outdated information easy to
spot.  Moreover, it provides a natural <code class="highlighter-rouge">/[year]/</code> and <code class="highlighter-rouge">/[year]/[month]/</code>
for yearly and monthly archive pages.  Tag pages live under <code class="highlighter-rouge">/tags/[tag]</code>,
which makes sense, and ad hoc pages have ad hoc URLs (<code class="highlighter-rouge">/is/</code>, for instance).
This strikes me as a clean setup, one which I canâ€™t see any way to improve 
upon.</p>
  </li>
  <li>
    <p>Content storage: The siteâ€™s content consists entirely of UTF-8 encoded text
files on disk.  Text files are simple to work with, and have a more or less
infinite shelf life.  A site like this one simply doesnâ€™t need a database,
a single flat text file per piece of content is <a href="http://mnmlist.com/a-case-for-storing-all-your-info-in-text-files/">good enough</a>.  Metadata
(title, tags, etc.) is contained in a YAML block at the top of each file.
Itâ€™s a format that is clear, human readable, and easily parsed, and Iâ€™m
especially pleased to see that the format Iâ€™d decided upon for Fallow
matches up quite well against more widely used systems like <a href="http://jekyllrb.com/">Jekyll</a>.</p>
  </li>
  <li>
    <p>Static HTML: Dynamic content doesnâ€™t really exist on this site.  I write an
article, then post it online.  Thatâ€™s the extent of the processing that
particular page needs.  The server shouldnâ€™t be working to rebuild an
article from last week (or last year!) every time itâ€™s requested, thatâ€™s
simply wasteful.  This site, therefore, generates a page once when itâ€™s
created, or when a template changes, and then simply serves that cached copy
over and over again.  Similarly, overview pages (like tag pages, or current
archives) are regenerated when a new article is published, then served
straight from disk.  On a small VPS, I can serve upwards of 300 static 
requests per second through Nginx with extremely low load.  Textpattern
would fall over and die at those absurd traffic levels.</p>
  </li>
  <li>
    <p>Historical redirects: The (miserable) <code class="highlighter-rouge">/blog/id/[ID]</code> URL structure I
decided upon in 2005 still works for the content Iâ€™ve kept from that period.
The (also bad) <code class="highlighter-rouge">/archives/[Title]/</code> structure from 2007-8 works too.  The
(not so lovely) Tumblr-generated links for content that used to be at
<code class="highlighter-rouge">blog.mikewest.org</code> will redirect nicely.  All these old URLs will continue
to generate nice, clean permanent redirects
<a href="http://www.w3.org/Provider/Style/URI">for the foreseeable future</a>: why make the reader jump through hoops
created by my lack of foresight?</p>
  </li>
</ul>

<p>So, those are the good bits Iâ€™d like to keep going as I rebuild.  With the understanding that Iâ€™m about to make one of those dangerous â€œforward looking statementsâ€ that I never seem to follow through on as cleanly as Iâ€™d like, I expect <code class="highlighter-rouge">mikewest.org</code> to be running a new Jekyll-based backend sometime in October.  With luck, no one will notice a thing but me.  With even more luck, Iâ€™ll squeeze out a post or two about the bits of Jekyll Iâ€™m adjusting, and the places where itâ€™s falling down completely.</p>

:ET